function initialize_map(){"undefined"!=typeof google&&$(".map-canvas").each(function(t,e){{var a=$(e).data("point").split(","),i=new google.maps.LatLng(a[0],a[1]),s={zoom:16,center:i,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(e,s);new google.maps.Marker({position:i,map:n})}})}!function(t,e){var a=function(){var e=t(document).data("events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};a()&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var a=t('meta[name="csrf-token"]').attr("content");a&&e.setRequestHeader("X-CSRF-Token",a)},fire:function(e,a,i){var s=t.Event(a);return e.trigger(s,i),s.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(a){var s,n,r,o,l,d,c,u;if(i.fire(a,"ajax:before")){if(o=a.data("cross-domain"),l=o===e?null:o,d=a.data("with-credentials")||null,c=a.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,a.is("form")){s=a.attr("method"),n=a.attr("action"),r=a.serializeArray();var h=a.data("ujs:submit-button");h&&(r.push(h),a.data("ujs:submit-button",null))}else a.is(i.inputChangeSelector)?(s=a.data("method"),n=a.data("url"),r=a.serialize(),a.data("params")&&(r=r+"&"+a.data("params"))):(s=a.data("method"),n=i.href(a),r=a.data("params")||null);u={type:s||"GET",data:r,dataType:c,beforeSend:function(t,s){return s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(a,"ajax:beforeSend",[t,s])},success:function(t,e,i){a.trigger("ajax:success",[t,e,i])},complete:function(t,e){a.trigger("ajax:complete",[t,e])},error:function(t,e,i){a.trigger("ajax:error",[t,e,i])},xhrFields:{withCredentials:d},crossDomain:l},n&&(u.url=n);var p=i.ajax(u);return a.trigger("ajax:send",p),p}return!1},handleMethod:function(a){var s=i.href(a),n=a.data("method"),r=a.attr("target"),o=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),d=t('<form method="post" action="'+s+'"></form>'),c='<input name="_method" value="'+n+'" type="hidden" />';l!==e&&o!==e&&(c+='<input name="'+l+'" value="'+o+'" type="hidden" />'),r&&d.attr("target",r),d.hide().append(c).appendTo("body"),d.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),a=e.is("button")?"html":"val";e.data("ujs:enable-with",e[a]()),e[a](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),a=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[a](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,a=t.data("confirm"),s=!1;return a?(i.fire(t,"confirm")&&(s=i.confirm(a),e=i.fire(t,"confirm:complete",[s])),s&&e):!0},blankInputs:function(e,a,i){var s,n,r=t(),o=a||"input,textarea";return e.find(o).each(function(){s=t(this),n=s.is(":checkbox,:radio")?s.is(":checked"):s.val(),n==!!i&&(r=r.add(s))}),r.length?r:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(a,i){var s=a.data("events"),n=!0;return s!==e&&s.submit!==e&&t.each(s.submit,function(t,e){return"function"==typeof e.handler?n=e.handler(i):void 0}),n},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,a){t.crossDomain||i.CSRFProtection(a)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(a){var s=t(this),n=s.data("method"),r=s.data("params");return i.allowAction(s)?(s.is(i.linkDisableSelector)&&i.disableElement(s),s.data("remote")!==e?!a.metaKey&&!a.ctrlKey||n&&"GET"!==n||r?(i.handleRemote(s)===!1&&i.enableElement(s),!1):!0:s.data("method")?(i.handleMethod(s),!1):void 0):i.stopEverything(a)}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var a=t(this);return i.allowAction(a)?(i.handleRemote(a),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(a){var s=t(this),n=s.data("remote")!==e,r=i.blankInputs(s,i.requiredInputSelector),o=i.nonBlankInputs(s,i.fileInputSelector);return i.allowAction(s)?r&&s.attr("novalidate")==e&&i.fire(s,"ajax:aborted:required",[r])?i.stopEverything(a):n?o?(setTimeout(function(){i.disableFormElements(s)},13),i.fire(s,"ajax:aborted:file",[o])):!t.support.submitBubbles&&t().jquery<"1.7"&&i.callFormSubmitBindings(s,a)===!1?i.stopEverything(a):(i.handleRemote(s),!1):(setTimeout(function(){i.disableFormElements(s)},13),void 0):i.stopEverything(a)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var a=t(this);if(!i.allowAction(a))return i.stopEverything(e);var s=a.attr("name"),n=s?{name:s,value:a.val()}:null;a.closest("form").data("ujs:submit-button",n)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),/* ========================================================================
 * Bootstrap (plugin): validator.js v0.8.1
 * ========================================================================
 * The MIT License (MIT)
 *
 * Copyright (c) 2015 Cina Saffary.
 * Made by @1000hz in the style of Bootstrap 3 era @fat
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),s=t.extend({},i.DEFAULTS,a.data(),"object"==typeof e&&e),n=a.data("bs.validator");(n||"destroy"!=e)&&(n||a.data("bs.validator",n=new i(this,s)),"string"==typeof e&&n[e]())})}var a=':input:not([type="submit"], button):enabled:visible',i=function(e,a){this.$element=t(e),this.options=a,a.errors=t.extend({},i.DEFAULTS.errors,a.errors);for(var s in a.custom)if(!a.errors[s])throw new Error("Missing default error message for custom validator: "+s);t.extend(i.VALIDATORS,a.custom),this.$element.attr("novalidate",!0),this.toggleSubmit(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",t.proxy(this.validateInput,this)),this.$element.on("submit.bs.validator",t.proxy(this.onSubmit,this)),this.$element.find("[data-match]").each(function(){var e=t(this),a=e.data("match");t(a).on("input.bs.validator",function(){e.val()&&e.trigger("input.bs.validator")})})};i.DEFAULTS={delay:500,html:!1,disable:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-warning-sign"}},i.VALIDATORS={"native":function(t){var e=t[0];return e.checkValidity?e.checkValidity():!0},match:function(e){var a=e.data("match");return!e.val()||e.val()===t(a).val()},minlength:function(t){var e=t.data("minlength");return!t.val()||t.val().length>=e}},i.prototype.validateInput=function(e){var a=t(e.target),i=a.data("bs.validator.errors");if(a.is('[type="radio"]')&&(a=this.$element.find('input[name="'+a.attr("name")+'"]')),this.$element.trigger(e=t.Event("validate.bs.validator",{relatedTarget:a[0]})),!e.isDefaultPrevented()){var s=this;this.runValidators(a).done(function(n){a.data("bs.validator.errors",n),n.length?s.showErrors(a):s.clearErrors(a),i&&n.toString()===i.toString()||(e=n.length?t.Event("invalid.bs.validator",{relatedTarget:a[0],detail:n}):t.Event("valid.bs.validator",{relatedTarget:a[0],detail:i}),s.$element.trigger(e)),s.toggleSubmit(),s.$element.trigger(t.Event("validated.bs.validator",{relatedTarget:a[0]}))})}},i.prototype.runValidators=function(e){function a(t){return e.data(t+"-error")||e.data("error")||"native"==t&&e[0].validationMessage||r.errors[t]}var s=[],n=t.Deferred(),r=this.options;return e.data("bs.validator.deferred")&&e.data("bs.validator.deferred").reject(),e.data("bs.validator.deferred",n),t.each(i.VALIDATORS,t.proxy(function(t,i){if((e.data(t)||"native"==t)&&!i.call(this,e)){var n=a(t);!~s.indexOf(n)&&s.push(n)}},this)),!s.length&&e.val()&&e.data("remote")?this.defer(e,function(){var i={};i[e.attr("name")]=e.val(),t.get(e.data("remote"),i).fail(function(t,e,i){s.push(a("remote")||i)}).always(function(){n.resolve(s)})}):n.resolve(s),n.promise()},i.prototype.validate=function(){var t=this.options.delay;return this.options.delay=0,this.$element.find(a).trigger("input.bs.validator"),this.options.delay=t,this},i.prototype.showErrors=function(e){var a=this.options.html?"html":"text";this.defer(e,function(){var i=e.closest(".form-group"),s=i.find(".help-block.with-errors"),n=i.find(".form-control-feedback"),r=e.data("bs.validator.errors");r.length&&(r=t("<ul/>").addClass("list-unstyled").append(t.map(r,function(e){return t("<li/>")[a](e)})),void 0===s.data("bs.validator.originalContent")&&s.data("bs.validator.originalContent",s.html()),s.empty().append(r),i.addClass("has-error"),n.length&&n.removeClass(this.options.feedback.success)&&n.addClass(this.options.feedback.error)&&i.removeClass("has-success"))})},i.prototype.clearErrors=function(t){var e=t.closest(".form-group"),a=e.find(".help-block.with-errors"),i=e.find(".form-control-feedback");a.html(a.data("bs.validator.originalContent")),e.removeClass("has-error"),i.length&&i.removeClass(this.options.feedback.error)&&i.addClass(this.options.feedback.success)&&e.addClass("has-success")},i.prototype.hasErrors=function(){function e(){return!!(t(this).data("bs.validator.errors")||[]).length}return!!this.$element.find(a).filter(e).length},i.prototype.isIncomplete=function(){function e(){return"checkbox"===this.type?!this.checked:"radio"===this.type?!t('[name="'+this.name+'"]:checked').length:""===t.trim(this.value)}return!!this.$element.find(a).filter("[required]").filter(e).length},i.prototype.onSubmit=function(t){this.validate(),(this.isIncomplete()||this.hasErrors())&&t.preventDefault()},i.prototype.toggleSubmit=function(){if(this.options.disable){var e=t('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]'));e.toggleClass("disabled",this.isIncomplete()||this.hasErrors()).css({"pointer-events":"all",cursor:"pointer"})}},i.prototype.defer=function(e,a){return a=t.proxy(a,this),this.options.delay?(window.clearTimeout(e.data("bs.validator.timeout")),e.data("bs.validator.timeout",window.setTimeout(a,this.options.delay)),void 0):a()},i.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator"),this.$element.find(a).off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var e=t(this),a=e.data("bs.validator.timeout");window.clearTimeout(a)&&e.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var e=t(this),a=e.data("bs.validator.originalContent");e.removeData("bs.validator.originalContent").html(a)}),this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled"),this.$element.find(".has-error").removeClass("has-error"),this};var s=t.fn.validator;t.fn.validator=e,t.fn.validator.Constructor=i,t.fn.validator.noConflict=function(){return t.fn.validator=s,this},t(window).on("load",function(){t('form[data-toggle="validator"]').each(function(){var a=t(this);e.call(a,a.data())})})}(jQuery),function(t){t.flexslider=function(e,a){var i=t(e);i.vars=t.extend({},t.flexslider.defaults,a);var s,n=i.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,l="click touchend MSPointerUp keyup",d="",c="vertical"===i.vars.direction,u=i.vars.reverse,h=i.vars.itemWidth>0,p="fade"===i.vars.animation,v=""!==i.vars.asNavFor,f={},m=!0;t.data(e,"flexslider",i),f={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=t(i.vars.selector,i),i.container=t(i.containerSelector,i),i.count=i.slides.length,i.syncExists=t(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=c?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!p&&i.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var a in e)if(void 0!==t.style[e[a]])return i.pfx=e[a].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=t(i.vars.controlsContainer).length>0&&t(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=t(i.vars.manualControls).length>0&&t(i.vars.manualControls)),""!==i.vars.customDirectionNav&&(i.customDirectionNav=2===t(i.vars.customDirectionNav).length&&t(i.vars.customDirectionNav)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&f.controlNav.setup(),i.vars.directionNav&&f.directionNav.setup(),i.vars.keyboard&&(1===t(i.containerSelector).length||i.vars.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!i.animating&&(39===e||37===e)){var a=39===e?i.getTarget("next"):37===e?i.getTarget("prev"):!1;i.flexAnimate(a,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(t,e){t.preventDefault();var a=0>e?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(a,i.vars.pauseOnAction)}),i.vars.pausePlay&&f.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&f.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),v&&f.asNav.setup(),o&&i.vars.touch&&f.touch(),(!p||p&&i.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",f.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(n+"active-slide").eq(i.currentItem).addClass(n+"active-slide"),r?(e._slider=i,i.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var a=t(this),s=a.index();t(i.vars.asNavFor).data("flexslider").animating||a.hasClass("active")||(i.direction=i.currentItem<s?"next":"prev",i.flexAnimate(s,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(l,function(e){e.preventDefault();var a=t(this),s=a.index(),r=a.offset().left-t(i).scrollLeft();0>=r&&a.hasClass(n+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):t(i.vars.asNavFor).data("flexslider").animating||a.hasClass(n+"active-slide")||(i.direction=i.currentItem<s?"next":"prev",i.flexAnimate(s,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var e,a,s="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",r=1;if(i.controlNavScaffold=t('<ol class="'+n+"control-nav "+n+s+'"></ol>'),i.pagingCount>1)for(var o=0;o<i.pagingCount;o++){if(a=i.slides.eq(o),e="thumbnails"===i.vars.controlNav?'<img src="'+a.attr("data-thumb")+'"/>':"<a>"+r+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var c=a.attr("data-thumbcaption");""!==c&&void 0!==c&&(e+='<span class="'+n+'caption">'+c+"</span>")}i.controlNavScaffold.append("<li>"+e+"</li>"),r++}i.controlsContainer?t(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),i.controlNavScaffold.delegate("a, img",l,function(e){if(e.preventDefault(),""===d||d===e.type){var a=t(this),s=i.controlNav.index(a);a.hasClass(n+"active")||(i.direction=s>i.currentSlide?"next":"prev",i.flexAnimate(s,i.vars.pauseOnAction))}""===d&&(d=e.type),f.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,f.controlNav.active(),i.controlNav.bind(l,function(e){if(e.preventDefault(),""===d||d===e.type){var a=t(this),s=i.controlNav.index(a);a.hasClass(n+"active")||(i.direction=s>i.currentSlide?"next":"prev",i.flexAnimate(s,i.vars.pauseOnAction))}""===d&&(d=e.type),f.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=t("."+n+"control-nav li "+e,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(n+"active").eq(i.animatingTo).addClass(n+"active")},update:function(e,a){i.pagingCount>1&&"add"===e?i.controlNavScaffold.append(t("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(a).closest("li").remove(),f.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(a,e):f.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+n+'direction-nav"><li class="'+n+'nav-prev"><a class="'+n+'prev" href="#">'+i.vars.prevText+'</a></li><li class="'+n+'nav-next"><a class="'+n+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.customDirectionNav?i.directionNav=i.customDirectionNav:i.controlsContainer?(t(i.controlsContainer).append(e),i.directionNav=t("."+n+"direction-nav li a",i.controlsContainer)):(i.append(e),i.directionNav=t("."+n+"direction-nav li a",i)),f.directionNav.update(),i.directionNav.bind(l,function(e){e.preventDefault();var a;(""===d||d===e.type)&&(a=t(this).hasClass(n+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(a,i.vars.pauseOnAction)),""===d&&(d=e.type),f.setToClearWatchedEvent()})},update:function(){var t=n+"disabled";1===i.pagingCount?i.directionNav.addClass(t).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(t).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(t).filter("."+n+"prev").addClass(t).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(t).filter("."+n+"next").addClass(t).attr("tabindex","-1"):i.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+n+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(e),i.pausePlay=t("."+n+"pauseplay a",i.controlsContainer)):(i.append(e),i.pausePlay=t("."+n+"pauseplay a",i)),f.pausePlay.update(i.vars.slideshow?n+"pause":n+"play"),i.pausePlay.bind(l,function(e){e.preventDefault(),(""===d||d===e.type)&&(t(this).hasClass(n+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===d&&(d=e.type),f.setToClearWatchedEvent()})},update:function(t){"play"===t?i.pausePlay.removeClass(n+"pause").addClass(n+"play").html(i.vars.playText):i.pausePlay.removeClass(n+"play").addClass(n+"pause").html(i.vars.pauseText)}},touch:function(){function t(t){t.stopPropagation(),i.animating?t.preventDefault():(i.pause(),e._gesture.addPointer(t.pointerId),C=0,d=c?i.h:i.w,f=Number(new Date),l=h&&u&&i.animatingTo===i.last?0:h&&u?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:h&&i.currentSlide===i.last?i.limit:h?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:u?(i.last-i.currentSlide+i.cloneOffset)*d:(i.currentSlide+i.cloneOffset)*d)}function a(t){t.stopPropagation();var a=t.target._slider;if(a){var i=-t.translationX,s=-t.translationY;return C+=c?s:i,v=C,y=c?Math.abs(C)<Math.abs(-i):Math.abs(C)<Math.abs(-s),t.detail===t.MSGESTURE_FLAG_INERTIA?(setImmediate(function(){e._gesture.stop()}),void 0):((!y||Number(new Date)-f>500)&&(t.preventDefault(),!p&&a.transitions&&(a.vars.animationLoop||(v=C/(0===a.currentSlide&&0>C||a.currentSlide===a.last&&C>0?Math.abs(C)/d+2:1)),a.setProps(l+v,"setTouch"))),void 0)}}function s(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!y&&null!==v){var a=u?-v:v,i=a>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(i)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>d/2)?e.flexAnimate(i,e.vars.pauseOnAction):p||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}n=null,o=null,v=null,l=null,C=0}}var n,o,l,d,v,f,m,g,b,y=!1,w=0,D=0,C=0;r?(e.style.msTouchAction="none",e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",t,!1),e._slider=i,e.addEventListener("MSGestureChange",a,!1),e.addEventListener("MSGestureEnd",s,!1)):(m=function(t){i.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(i.pause(),d=c?i.h:i.w,f=Number(new Date),w=t.touches[0].pageX,D=t.touches[0].pageY,l=h&&u&&i.animatingTo===i.last?0:h&&u?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:h&&i.currentSlide===i.last?i.limit:h?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:u?(i.last-i.currentSlide+i.cloneOffset)*d:(i.currentSlide+i.cloneOffset)*d,n=c?D:w,o=c?w:D,e.addEventListener("touchmove",g,!1),e.addEventListener("touchend",b,!1))},g=function(t){w=t.touches[0].pageX,D=t.touches[0].pageY,v=c?n-D:n-w,y=c?Math.abs(v)<Math.abs(w-o):Math.abs(v)<Math.abs(D-o);var e=500;(!y||Number(new Date)-f>e)&&(t.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(v/=0===i.currentSlide&&0>v||i.currentSlide===i.last&&v>0?Math.abs(v)/d+2:1),i.setProps(l+v,"setTouch")))},b=function(){if(e.removeEventListener("touchmove",g,!1),i.animatingTo===i.currentSlide&&!y&&null!==v){var t=u?-v:v,a=t>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(a)&&(Number(new Date)-f<550&&Math.abs(t)>50||Math.abs(t)>d/2)?i.flexAnimate(a,i.vars.pauseOnAction):p||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}e.removeEventListener("touchend",b,!1),n=null,o=null,v=null,l=null},e.addEventListener("touchstart",m,!1))},resize:function(){!i.animating&&i.is(":visible")&&(h||i.doMath(),p?f.smoothHeight():h?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):c?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&f.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(t){if(!c||p){var e=p?i:i.viewport;t?e.animate({height:i.slides.eq(i.animatingTo).height()},t):e.height(i.slides.eq(i.animatingTo).height())}},sync:function(e){var a=t(i.vars.sync).data("flexslider"),s=i.animatingTo;switch(e){case"animate":a.flexAnimate(s,i.vars.pauseOnAction,!1,!0);break;case"play":a.playing||a.asNav||a.play();break;case"pause":a.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=t(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var t=f.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,function(){f.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){var t=f.pauseInvisible.getHiddenProp();return t?document[t]:!1},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(s),s=setTimeout(function(){d=""},3e3)}},i.flexAnimate=function(e,a,s,r,l){if(i.vars.animationLoop||e===i.currentSlide||(i.direction=e>i.currentSlide?"next":"prev"),v&&1===i.pagingCount&&(i.direction=i.currentItem<e?"next":"prev"),!i.animating&&(i.canAdvance(e,l)||s)&&i.is(":visible")){if(v&&r){var d=t(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===e||e===i.count-1,d.flexAnimate(e,!0,!1,!0,l),i.direction=i.currentItem<e?"next":"prev",d.direction=i.direction,Math.ceil((e+1)/i.visible)-1===i.currentSlide||0===e)return i.currentItem=e,i.slides.removeClass(n+"active-slide").eq(e).addClass(n+"active-slide"),!1;i.currentItem=e,i.slides.removeClass(n+"active-slide").eq(e).addClass(n+"active-slide"),e=Math.floor(e/i.visible)}if(i.animating=!0,i.animatingTo=e,a&&i.pause(),i.vars.before(i),i.syncExists&&!l&&f.sync("animate"),i.vars.controlNav&&f.controlNav.active(),h||i.slides.removeClass(n+"active-slide").eq(e).addClass(n+"active-slide"),i.atEnd=0===e||e===i.last,i.vars.directionNav&&f.directionNav.update(),e===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),p)o?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(e).css({opacity:1,zIndex:2}),i.wrapup(y)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(e).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var m,g,b,y=c?i.slides.filter(":first").height():i.computedW;h?(m=i.vars.itemMargin,b=(i.itemW+m)*i.move*i.animatingTo,g=b>i.limit&&1!==i.visible?i.limit:b):g=0===i.currentSlide&&e===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?u?(i.count+i.cloneOffset)*y:0:i.currentSlide===i.last&&0===e&&i.vars.animationLoop&&"prev"!==i.direction?u?0:(i.count+1)*y:u?(i.count-1-e+i.cloneOffset)*y:(e+i.cloneOffset)*y,i.setProps(g,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(y)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(y)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(y)})}i.vars.smoothHeight&&f.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(t){p||h||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(t,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(t,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&m&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&f.pausePlay.update("play"),i.syncExists&&f.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&f.pausePlay.update("pause"),i.syncExists&&f.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(t,e){var a=v?i.pagingCount-1:i.last;return e?!0:v&&i.currentItem===i.count-1&&0===t&&"prev"===i.direction?!0:v&&0===i.currentItem&&t===i.pagingCount-1&&"next"!==i.direction?!1:t!==i.currentSlide||v?i.vars.animationLoop?!0:i.atEnd&&0===i.currentSlide&&t===a&&"next"!==i.direction?!1:i.atEnd&&i.currentSlide===a&&0===t&&"next"===i.direction?!1:!0:!1},i.getTarget=function(t){return i.direction=t,"next"===t?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(t,e,a){var s=function(){var a=t?t:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,s=function(){if(h)return"setTouch"===e?t:u&&i.animatingTo===i.last?0:u?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:a;switch(e){case"setTotal":return u?(i.count-1-i.currentSlide+i.cloneOffset)*t:(i.currentSlide+i.cloneOffset)*t;case"setTouch":return u?t:t;case"jumpEnd":return u?t:i.count*t;case"jumpStart":return u?i.count*t:t;default:return t}}();return-1*s+"px"}();i.transitions&&(s=c?"translate3d(0,"+s+",0)":"translate3d("+s+",0,0)",a=void 0!==a?a/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",a),i.container.css("transition-duration",a)),i.args[i.prop]=s,(i.transitions||void 0===a)&&i.container.css(i.args),i.container.css("transform",s)},i.setup=function(e){if(p)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(o?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&f.smoothHeight();else{var a,s;"init"===e&&(i.viewport=t('<div class="'+n+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,u&&(s=t.makeArray(i.slides).reverse(),i.slides=t(s),i.container.empty().append(i.slides))),i.vars.animationLoop&&!h&&(i.cloneCount=2,i.cloneOffset=1,"init"!==e&&i.container.find(".clone").remove(),i.container.append(f.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=t(i.vars.selector,i),a=u?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,c&&!h?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(a*i.h,"init")},"init"===e?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(a*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,"float":"left",display:"block"}),i.vars.smoothHeight&&f.smoothHeight()},"init"===e?100:0))}h||i.slides.removeClass(n+"active-slide").eq(i.currentSlide).addClass(n+"active-slide"),i.vars.init(i)},i.doMath=function(){var t=i.slides.first(),e=i.vars.itemMargin,a=i.vars.minItems,s=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=t.height(),i.boxPadding=t.outerWidth()-t.width(),h?(i.itemT=i.vars.itemWidth+e,i.minW=a?a*i.itemT:i.w,i.maxW=s?s*i.itemT-e:i.w,i.itemW=i.minW>i.w?(i.w-e*(a-1))/a:i.maxW<i.w?(i.w-e*(s-1))/s:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+e*(i.count-1):(i.itemW+e)*i.count-i.w-e):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(t,e){i.doMath(),h||(t<i.currentSlide?i.currentSlide+=1:t<=i.currentSlide&&0!==t&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===e&&!h||i.pagingCount>i.controlNav.length?f.controlNav.update("add"):("remove"===e&&!h||i.pagingCount<i.controlNav.length)&&(h&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),f.controlNav.update("remove",i.last))),i.vars.directionNav&&f.directionNav.update()},i.addSlide=function(e,a){var s=t(e);i.count+=1,i.last=i.count-1,c&&u?void 0!==a?i.slides.eq(i.count-a).after(s):i.container.prepend(s):void 0!==a?i.slides.eq(a).before(s):i.container.append(s),i.update(a,"add"),i.slides=t(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(e){var a=isNaN(e)?i.slides.index(t(e)):e;i.count-=1,i.last=i.count-1,isNaN(e)?t(e,i.slides).remove():c&&u?i.slides.eq(i.last).remove():i.slides.eq(e).remove(),i.doMath(),i.update(a,"remove"),i.slides=t(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},f.init()},t(window).blur(function(){focused=!1}).focus(function(){focused=!0}),t.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var a=t(this),i=e.selector?e.selector:".slides > li",s=a.find(i);1===s.length&&e.allowOneSlide===!0||0===s.length?(s.fadeIn(400),e.start&&e.start(a)):void 0===a.data("flexslider")&&new t.flexslider(this,e)});var a=t(this).data("flexslider");switch(e){case"play":a.play();break;case"pause":a.pause();break;case"stop":a.stop();break;case"next":a.flexAnimate(a.getTarget("next"),!0);break;case"prev":case"previous":a.flexAnimate(a.getTarget("prev"),!0);break;default:"number"==typeof e&&a.flexAnimate(e,!0)}}}(jQuery),/*!
 * Datepicker for Bootstrap v1.5.0-dev (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(t,e){function a(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return a(t.getFullYear(),t.getMonth(),t.getDate())}function s(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function n(t){return function(){return this[t].apply(this,arguments)}}function r(e,a){function i(t,e){return e.toLowerCase()}var s,n=t(e).data(),r={},o=new RegExp("^"+a.toLowerCase()+"([A-Z])");a=new RegExp("^"+a.toLowerCase());for(var l in n)a.test(l)&&(s=l.replace(o,i),r[s]=n[l]);return r}function o(e){var a={};if(f[e]||(e=e.split("-")[0],f[e])){var i=f[e];return t.each(v,function(t,e){e in i&&(a[e]=i[e])}),a}}var l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),a=0,i=this.length;i>a;a++)if(this[a].valueOf()===e)return a;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var a=[];return a.push.apply(a,arguments),t.extend(a,e),a}}(),d=function(e,a){this._process_options(a),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(s){this._o=t.extend({},this._o,s);var n=this.o=t.extend({},this._o),r=n.language;switch(f[r]||(r=r.split("-")[0],f[r]||(r=p.language)),n.language=r,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate!==!1&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var o=m.parseFormat(n.format);if(n.startDate!==-1/0&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):m.parseDate(n.startDate,o,n.language):-1/0),1/0!==n.endDate&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):m.parseDate(n.endDate,o,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)}),n.datesDisabled=n.datesDisabled||[],!t.isArray(n.datesDisabled)){var l=[];l.push(m.parseDate(n.datesDisabled,o,n.language)),n.datesDisabled=l}n.datesDisabled=t.map(n.datesDisabled,function(t){return m.parseDate(t,o,n.language)});var d=String(n.orientation).toLowerCase().split(/\s+/g),c=n.orientation.toLowerCase();if(d=t.grep(d,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===d.length)switch(d[0]){case"top":case"bottom":n.orientation.y=d[0];break;case"left":case"right":n.orientation.x=d[0]}else c=t.grep(d,function(t){return/^left|right$/.test(t)}),n.orientation.x=c[0]||"auto",c=t.grep(d,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=c[0]||"auto";else;if(n.defaultViewDate){var u=n.defaultViewDate.year||(new Date).getFullYear(),h=n.defaultViewDate.month||0,v=n.defaultViewDate.day||1;n.defaultViewDate=a(u,h,v)}else n.defaultViewDate=i();n.showOnFocus=n.showOnFocus!==e?n.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var a,i,s,n=0;n<t.length;n++)a=t[n][0],2===t[n].length?(i=e,s=t[n][1]):3===t[n].length&&(i=t[n][1],s=t[n][2]),a.on(s,i)},_unapplyEvents:function(t){for(var a,i,s,n=0;n<t.length;n++)a=t[n][0],2===t[n].length?(s=e,i=t[n][1]):3===t[n].length&&(s=t[n][1],i=t[n][2]),a.off(i,s)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||t(this.picker).hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,a){var i=a||this.dates.get(-1),s=this._utc_to_local(i);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var a=this.dates.get(t);return m.formatDate(a,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var a;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))a=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;a=window.clipboardData.getData("Text")}this.setDate(a),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:n("setDates"),setUTCDate:n("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change(),this},getFormattedDate:function(a){a===e&&(a=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,a,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),a=this.picker.outerHeight(),i=10,s=t(this.o.container).width(),n=t(this.o.container).height(),r=t(this.o.container).scrollTop(),o=t(this.o.container).offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var d=Math.max.apply(Math,l)+10,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-o.left,v=c.top-o.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-h)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-i):p+e>s?(this.picker.addClass("datepicker-orient-right"),p=c.left+h-e):this.picker.addClass("datepicker-orient-left");var f,m,g=this.o.orientation.y;if("auto"===g&&(f=-r+v-a,m=r+n-(v+u+a),g=Math.max(f,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?v+=u:v-=a+parseInt(this.picker.css("padding-top")),this.o.rtl){var b=s-(p+h);this.picker.css({top:v,right:b,zIndex:d})}else this.picker.css({top:v,left:p,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),a=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),a.push(e)},this)),i=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),a=a&&this.o.multidate?a.split(this.o.multidateSeparator):[a],delete this.element.data().date),a=t.map(a,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),a=t.grep(a,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(a),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():a.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1});var a='<th class="cw">&#160;</th>';e+=a}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var a=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<n?a.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>n)&&a.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&a.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===r.getFullYear()&&e.getUTCMonth()===r.getMonth()&&e.getUTCDate()===r.getDate()&&a.push("today"),-1!==this.dates.contains(e)&&a.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&a.push("disabled"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return s(e,t)}).length>0&&a.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&a.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&a.push("selected")),a},fill:function(){var i,s=new Date(this.viewDate),n=s.getUTCFullYear(),r=s.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,d=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,u=f[this.o.language].today||f.en.today||"",h=f[this.o.language].clear||f.en.clear||"";if(!isNaN(n)&&!isNaN(r)){this.picker.find(".datepicker-days thead .datepicker-switch").text(f[this.o.language].months[r]+" "+n),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=a(n,r-1,28),v=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(v),p.setUTCDate(v-(p.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var b,y=[];p.valueOf()<g;){if(p.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),D=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),C=new Date(Number(C=a(D.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),T=(D-C)/864e5/7+1;y.push('<td class="cw">'+T+"</td>")}if(b=this.getClassNames(p),b.push("day"),this.o.beforeShowDay!==t.noop){var k=this.o.beforeShowDay(this._utc_to_local(p));k===e?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&b.push("disabled"),k.classes&&(b=b.concat(k.classes.split(/\s+/))),k.tooltip&&(i=k.tooltip)}b=t.unique(b),y.push('<td class="'+b.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+p.getUTCDate()+"</td>"),i=null,p.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var x=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===n&&x.eq(e.getUTCMonth()).addClass("active")}),(o>n||n>d)&&x.addClass("disabled"),n===o&&x.slice(0,l).addClass("disabled"),n===d&&x.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var S=this;t.each(x,function(e,a){if(!t(a).hasClass("disabled")){var i=new Date(n,e,1),s=S.o.beforeShowMonth(i);s===!1&&t(a).addClass("disabled")}})}y="",n=10*parseInt(n/10,10);var _=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var $,M=t.map(this.dates,function(t){return t.getUTCFullYear()}),A=-1;11>A;A++)$=["year"],-1===A?$.push("old"):10===A&&$.push("new"),-1!==t.inArray(n,M)&&$.push("active"),(o>n||n>d)&&$.push("disabled"),y+='<span class="'+$.join(" ")+'">'+n+"</span>",n+=1;_.html(y)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),a=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i,s,n,r=t(e.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=a(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(l,d);break;case"clear":this.clearDates()}break;case"span":r.hasClass("disabled")||(this.viewDate.setUTCDate(1),r.hasClass("month")?(n=1,s=r.parent().find("span").index(r),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(a(i,s,n)),this.showMode()):this.showMode(-1)):(n=1,s=0,i=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(a(i,s,n)),this.showMode(-1)),this.fill());break;case"td":r.hasClass("day")&&!r.hasClass("disabled")&&(n=parseInt(r.text(),10)||1,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r.hasClass("old")?0===s?(s=11,i-=1):s-=1:r.hasClass("new")&&(11===s?(s=0,i+=1):s+=1),this._setDate(a(i,s,n)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,a){if(!t)return e;if(!a)return t;var i,s,n=new Date(t.valueOf()),r=n.getUTCDate(),o=n.getUTCMonth(),l=Math.abs(a);if(a=a>0?1:-1,1===l)s=-1===a?function(){return n.getUTCMonth()===o}:function(){return n.getUTCMonth()!==i},i=o+a,n.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var d=0;l>d;d++)n=this.moveMonth(n,a);i=n.getUTCMonth(),n.setUTCDate(r),s=function(){return i!==n.getUTCMonth()}}for(;s();)n.setUTCDate(--r),n.setUTCMonth(i);return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return(40===t.keyCode||27===t.keyCode)&&this.show(),void 0;var e,a,s,n=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(a=this.moveYear(this.dates.get(-1)||i(),e),s=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(a=this.moveMonth(this.dates.get(-1)||i(),e),s=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(a=new Date(this.dates.get(-1)||i()),a.setUTCDate(a.getUTCDate()+e),s=new Date(r),s.setUTCDate(r.getUTCDate()+e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(a=this.moveYear(this.dates.get(-1)||i(),e),s=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(a=this.moveMonth(this.dates.get(-1)||i(),e),s=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(a=new Date(this.dates.get(-1)||i()),a.setUTCDate(a.getUTCDate()+7*e),s=new Date(r),s.setUTCDate(r.getUTCDate()+7*e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,a){this.element=t(e),this.inputs=t.map(a.inputs,function(t){return t.jquery?t[0]:t}),delete a.inputs,h.call(t(this.inputs),a).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,a){a.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var a=t(e.target).data("datepicker"),i=a.getUTCDate(),s=t.inArray(e.target,this.inputs),n=s-1,r=s+1,o=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[n])for(;n>=0&&i<this.dates[n];)this.pickers[n--].setUTCDate(i);else if(i>this.dates[r])for(;o>r&&i>this.dates[r];)this.pickers[r++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var u=t.fn.datepicker,h=function(a){var i=Array.apply(null,arguments);i.shift();var s;return this.each(function(){var n=t(this),l=n.data("datepicker"),u="object"==typeof a&&a;if(!l){var h=r(this,"date"),v=t.extend({},p,h,u),f=o(v.language),m=t.extend({},p,f,h,u);if(n.hasClass("input-daterange")||m.inputs){var g={inputs:m.inputs||n.find("input").toArray()};n.data("datepicker",l=new c(this,t.extend(m,g)))}else n.data("datepicker",l=new d(this,m))}return"string"==typeof a&&"function"==typeof l[a]&&(s=l[a].apply(l,i),s!==e)?!1:void 0}),s!==e?s:this};t.fn.datepicker=h;var p=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",immediateUpdates:!1},v=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=d;var f=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),a=t.match(this.validParts);if(!e||!e.length||!a||0===a.length)throw new Error("Invalid date format.");return{separators:e,parts:a}},parseDate:function(i,s,n){function r(){var t=this.slice(0,h[c].length),e=h[c].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!i)return e;if(i instanceof Date)return i;"string"==typeof s&&(s=m.parseFormat(s));var o,l,c,u=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,c=0;c<h.length;c++)switch(o=u.exec(h[c]),l=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=d.prototype.moveMonth.call(d.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=d.prototype.moveYear.call(d.prototype,i,l)}return a(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var p,v,g={},b=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,i=a(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=s.parts.slice();if(h.length!==w.length&&(w=t(w).filter(function(e,a){return-1!==t.inArray(a,b)}).toArray()),h.length===w.length){var D;for(c=0,D=w.length;D>c;c++){if(p=parseInt(h[c],10),o=w[c],isNaN(p))switch(o){case"MM":v=t(f[n].months).filter(r),p=t.inArray(v[0],f[n].months)+1;break;case"M":v=t(f[n].monthsShort).filter(r),p=t.inArray(v[0],f[n].monthsShort)+1}g[o]=p}var C,T;for(c=0;c<b.length;c++)T=b[c],T in g&&!isNaN(g[T])&&(C=new Date(i),y[T](C,g[T]),isNaN(C)||(i=C))}return i},formatDate:function(e,a,i){if(!e)return"";"string"==typeof a&&(a=m.parseFormat(a));var s={d:e.getUTCDate(),D:f[i].daysShort[e.getUTCDay()],DD:f[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[i].monthsShort[e.getUTCMonth()],MM:f[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var n=t.extend([],a.separators),r=0,o=a.parts.length;o>=r;r++)n.length&&e.push(n.shift()),e.push(s[a.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=u,this},t.fn.datepicker.version="1.4.1-dev",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var a=t(this);a.data("datepicker")||(e.preventDefault(),h.call(a,"show"))}),t(function(){h.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),/**
 * bootstrap-multiselect.js
 * https://github.com/davidstutz/bootstrap-multiselect
 *
 * Copyright 2012 - 2014 David Stutz
 *
 * Dual licensed under the BSD-3-Clause and the Apache License, Version 2.0.
 */
!function(t){"use strict";function e(t){return ko.isObservable(t)&&!(void 0===t.destroyAll)}function a(e,a){this.options=this.mergeOptions(a),this.$select=t(e),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.buildContainer(),this.buildButton(),this.buildSelectAll(),this.buildDropdown(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={init:function(a,i,s){var n=s().selectedOptions,r=ko.utils.unwrapObservable(i());t(a).multiselect(r),e(n)&&n.subscribe(function(e){var i=[],s=[];e.forEach(function(t){switch(t.status){case"added":i.push(t.value);break;case"deleted":s.push(t.value)}}),i.length>0&&t(a).multiselect("select",i),s.length>0&&t(a).multiselect("deselect",s)},null,"arrayChange")},update:function(a,i,s){var n=s().options,r=t(a).data("multiselect"),o=ko.utils.unwrapObservable(i());e(n)&&n.subscribe(function(){t(a).multiselect("rebuild")}),r?r.updateOriginalOptions():t(a).multiselect(o)}}),a.prototype={defaults:{buttonText:function(e){if(0===e.length)return this.nonSelectedText+' <b class="caret"></b>';if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText+' <b class="caret"></b>';var a="";return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).html();a+=e+", "}),a.substr(0,a.length-2)+' <b class="caret"></b>'},buttonTitle:function(e){if(0===e.length)return this.nonSelectedText;var a="";return e.each(function(){a+=t(this).text()+", "}),a.substr(0,a.length-2)},label:function(e){return t(e).attr("label")||t(e).html()},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},buttonClass:"btn btn-default",dropRight:!1,selectedClass:"active",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',maxHeight:!1,includeSelectAllOption:!1,selectAllText:" Select all",selectAllValue:"multiselect-all",enableFiltering:!1,enableCaseInsensitiveFiltering:!1,filterPlaceholder:"Search",filterBehavior:"text",preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",numberDisplayed:3},templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div>',li:'<li><a href="javascript:void(0);"><label></label></a></li>',divider:'<li class="divider"></li>',liGroup:'<li><label class="multiselect-group"></label></li>'},constructor:a,buildContainer:function(){this.$container=t(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide)},buildButton:function(){this.$button=t(this.templates.button).addClass(this.options.buttonClass),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!=this.options.buttonWidth&&this.$button.css({width:this.options.buttonWidth});var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=t(this.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(t.proxy(function(e,a){var i=t(a).prop("tagName").toLowerCase();"optgroup"===i?this.createOptgroup(a):"option"===i&&("divider"===t(a).data("role")?this.createDivider():this.createOptionValue(a))},this)),t("li input",this.$ul).on("change",t.proxy(function(e){var a=t(e.target).prop("checked")||!1,i=t(e.target).val()===this.options.selectAllValue;this.options.selectedClass&&(a?t(e.target).parents("li").addClass(this.options.selectedClass):t(e.target).parents("li").removeClass(this.options.selectedClass));var s=t(e.target).val(),n=this.getOptionByValue(s),r=t("option",this.$select).not(n),o=t("input",this.$container).not(t(e.target));if(i&&this.$select[0][0].value===this.options.selectAllValue){for(var l=[],d=t('option[value!="'+this.options.selectAllValue+'"]',this.$select),c=0;c<d.length;c++)d[c].value!==this.options.selectAllValue&&this.getInputByValue(d[c].value).is(":visible")&&l.push(d[c].value);a?this.select(l):this.deselect(l)}return a?(n.prop("selected",!0),this.options.multiple?n.prop("selected",!0):(this.options.selectedClass&&t(o).parents("li").removeClass(this.options.selectedClass),t(o).prop("checked",!1),r.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&r.parents("a").css("outline","")):n.prop("selected",!1),this.$select.change(),this.options.onChange(n,a),this.updateButtonText(),this.updateSelectAll(),this.options.preventInputChangeEvent?!1:void 0},this)),t("li a",this.$ul).on("touchstart click",function(e){if(e.stopPropagation(),e.shiftKey){var a=t(e.target).prop("checked")||!1;if(a){var i=t(e.target).parents("li:last").siblings('li[class="active"]:first'),s=t(e.target).parents("li").index(),n=i.index();s>n?t(e.target).parents("li:last").prevUntil(i).each(function(){t(this).find("input:first").prop("checked",!0).trigger("change")}):t(e.target).parents("li:last").nextUntil(i).each(function(){t(this).find("input:first").prop("checked",!0).trigger("change")})}}t(e.target).blur()}),this.$container.on("keydown",t.proxy(function(e){if(!t('input[type="text"]',this.$container).is(":focus"))if(9!==e.keyCode&&27!==e.keyCode||!this.$container.hasClass("open")){var a=t(this.$container).find("li:not(.divider):visible a");if(!a.length)return;var i=a.index(a.filter(":focus"));38===e.keyCode&&i>0?i--:40===e.keyCode&&i<a.length-1?i++:~i||(i=0);var s=a.eq(i);if(s.focus(),32===e.keyCode||13===e.keyCode){var n=s.find("input");n.prop("checked",!n.prop("checked")),n.change()}e.stopPropagation(),e.preventDefault()}else this.$button.click()},this))},createOptionValue:function(e){t(e).is(":selected")&&t(e).prop("selected",!0);var a=this.options.label(e),i=t(e).val(),s=this.options.multiple?"checkbox":"radio",n=t(this.templates.li);t("label",n).addClass(s),t("label",n).append('<input type="'+s+'" />');var r=t(e).prop("selected")||!1,o=t("input",n);o.val(i),i===this.options.selectAllValue&&o.parent().parent().addClass("multiselect-all"),t("label",n).append(" "+a),this.$ul.append(n),t(e).is(":disabled")&&o.attr("disabled","disabled").prop("disabled",!0).parents("li").addClass("disabled"),o.prop("checked",r),r&&this.options.selectedClass&&o.parents("li").addClass(this.options.selectedClass)},createDivider:function(){var e=t(this.templates.divider);this.$ul.append(e)},createOptgroup:function(e){var a=t(e).prop("label"),i=t(this.templates.liGroup);t("label",i).text(a),this.$ul.append(i),t(e).is(":disabled")&&i.addClass("disabled"),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e)},this))},buildSelectAll:function(){var t=this.hasSelectAll();this.options.includeSelectAllOption&&this.options.multiple&&!t&&(this.options.includeSelectAllDivider&&this.$select.prepend('<option value="" disabled="disabled" data-role="divider">'),this.$select.prepend('<option value="'+this.options.selectAllValue+'">'+this.options.selectAllText+"</option>"))},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);this.$select.find("option").length>=e&&(this.$filter=t(this.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",t.proxy(function(e){clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy(function(){this.query!==e.target.value&&(this.query=e.target.value,t.each(t("li",this.$ul),t.proxy(function(e,a){var i=t("input",a).val(),s=t("label",a).text();if(i!==this.options.selectAllValue&&s){var n=!1,r="";("text"===this.options.filterBehavior||"both"===this.options.filterBehavior)&&(r=s),("value"===this.options.filterBehavior||"both"===this.options.filterBehavior)&&(r=i),this.options.enableCaseInsensitiveFiltering&&r.toLowerCase().indexOf(this.query.toLowerCase())>-1?n=!0:r.indexOf(this.query)>-1&&(n=!0),n?t(a).show():t(a).hide()}},this)))},this),300,this)},this)))}},destroy:function(){this.$container.remove(),this.$select.show()},refresh:function(){t("option",this.$select).each(t.proxy(function(e,a){var i=t("li input",this.$ul).filter(function(){return t(this).val()===t(a).val()});t(a).is(":selected")?(i.prop("checked",!0),this.options.selectedClass&&i.parents("li").addClass(this.options.selectedClass)):(i.prop("checked",!1),this.options.selectedClass&&i.parents("li").removeClass(this.options.selectedClass)),t(a).is(":disabled")?i.attr("disabled","disabled").prop("disabled",!0).parents("li").addClass("disabled"):i.prop("disabled",!1).parents("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(e){e&&!t.isArray(e)&&(e=[e]);for(var a=0;a<e.length;a++){var i=e[a],s=this.getOptionByValue(i),n=this.getInputByValue(i);this.options.selectedClass&&n.parents("li").addClass(this.options.selectedClass),n.prop("checked",!0),s.prop("selected",!0)}this.updateButtonText()},clearSelection:function(){var t=this.getSelected();if(t.length){for(var e=[],a=0;a<t.length;a+=1)e.push(t[a].value);this.deselect(e),this.$select.change()}},deselect:function(e){e&&!t.isArray(e)&&(e=[e]);for(var a=0;a<e.length;a++){var i=e[a],s=this.getOptionByValue(i),n=this.getInputByValue(i);this.options.selectedClass&&n.parents("li").removeClass(this.options.selectedClass),n.prop("checked",!1),s.prop("selected",!1)}this.updateButtonText()},rebuild:function(){this.$ul.html(""),t('option[value="'+this.options.selectAllValue+'"]',this.$select).remove(),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll()},dataprovider:function(t){var e="";t.forEach(function(t){e+='<option value="'+t.value+'">'+t.label+"</option>"}),this.$select.html(e),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend({},this.defaults,this.options,e)},hasSelectAll:function(){return this.$select[0][0]?this.$select[0][0].value===this.options.selectAllValue:!1},updateSelectAll:function(){if(this.hasSelectAll()){var e=this.getSelected();e.length===t("option:not([data-role=divider])",this.$select).length-1?this.select(this.options.selectAllValue):this.deselect(this.options.selectAllValue)}},updateButtonText:function(){var e=this.getSelected();t("button",this.$container).html(this.options.buttonText(e,this.$select)),t("button",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return t('option[value!="'+this.options.selectAllValue+'"]:selected',this.$select).filter(function(){return t(this).prop("selected")})},getOptionByValue:function(e){for(var a=t("option",this.$select),i=e.toString(),s=0;s<a.length;s+=1){var n=a[s];if(n.value==i)return t(n)}},getInputByValue:function(e){for(var a=t("li input",this.$ul),i=e.toString(),s=0;s<a.length;s+=1){var n=a[s];if(n.value==i)return t(n)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,a){var i=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(a||window,i)},e)}},t.fn.multiselect=function(e,i){return this.each(function(){var s=t(this).data("multiselect"),n="object"==typeof e&&e;s||(s=new a(this,n),t(this).data("multiselect",s)),"string"==typeof e&&(s[e](i),"destroy"===e&&t(this).data("multiselect",!1))})},t.fn.multiselect.Constructor=a,t(function(){t("select[data-role=multiselect]").multiselect()})}(window.jQuery),$(document).ready(function(){"use strict";$(window);$(".datepicker").datepicker(),$('[data-toggle="tooltip"]').tooltip(),$(".js-multiple-select").multiselect({numberDisplayed:1,buttonText:function(){return"Options"}}),$(".background-image-holder").each(function(){var t=$(this).children("img").attr("src");$(this).css("background",'url("'+t+'")'),$(this).children("img").hide(),$(this).css("background-position","50% 0%")}),$(window).resize(function(){var t=$(window).width();t>=768&&$(".equal-height > .col-right > .thumbnail > .background-image-holder").css("height",$(".equal-height > .col-left").height()-22)}),$("#global-search-panel a[data-toggle='tab']").on("show.bs.tab",function(t){"#sale-properties-panel"===$(t.target).attr("href")?$("#global-search-panel").addClass("bg-success"):$("#global-search-panel").removeClass("bg-success")}),$("#global-search-panel").on("show.bs.collapse",function(){$("#global-news-panel").collapse("hide")}),$("#global-news-panel").on("show.bs.collapse",function(){$("#global-search-panel").collapse("hide"),$("#global-news-slider").flexslider({animation:"slide",controlNav:!0,animationLoop:!0,slideshow:!1,directionNav:!1})}),$(document).keypress(function(t){if(13==t.which){var e=$("#search-input");if(e.length>0&&e.is(":focus")&&e.val().length>3){var a={search:{with_title:e.val()}};document.location.href=e.data("url")+"?"+$.param(a)}}}),$(".inquiry:first").on("ajax:beforeSend",function(){$("span.error").fadeOut("slow"),$("span.valid").fadeOut("slow"),$("#thanks").hide(),$("#error").hide(),$("#timedout").hide(),$("#state").hide();var t=!1,e=$("#inquiry_name"),a=e.val();a.replace(/\s+/g,"").length||(e.parent().parent().addClass("has-error"),t=!0);var i=$("#inquiry_phone"),s=i.val();s.replace(/\s+/g,"").length||(i.parent().parent().addClass("has-error"),t=!0);var n=$("#inquiry_phone"),r=i.val();r.replace(/\s+/g,"").length||(n.parent().parent().addClass("has-error"),t=!0);var o=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,l=$("#inquiry_email").val();l.replace(/\s+/g,"").length?o.test(l)||($("#inquiry_email").parent().parent().addClass("has-error"),t=!0):($("#inquiry_email").parent().parent().addClass("has-error"),t=!0);var d=$("#inquiry_message").val();return d.replace(/\s+/g,"").length||($("#inquiry_message").parent().parent().addClass("has-error"),t=!0),1==t?($("#error").fadeIn("slow"),setTimeout(function(){$("#error").fadeOut("slow")},3e3),!1):($("#inquiry_name").parent().parent().removeClass("has-error"),$("#inquiry_email").parent().parent().removeClass("has-error"),$("#inquiry_phone").parent().parent().removeClass("has-error"),$("#inquiry_subject").parent().parent().removeClass("has-error"),$("#inquiry_message").parent().parent().removeClass("has-error"),void 0)}).on("ajax:error",function(t,e,a,i){"timeout"==i?($("#timedout").fadeIn("slow"),setTimeout(function(){$("#timedout").fadeOut("slow")},3e3)):($("#state").fadeIn("slow"),$("#state").html("The following error occured: "+i),setTimeout(function(){$("#state").fadeOut("slow")},3e3))}).on("ajax:success",function(){console.log("success"),$("#thanks").fadeIn("slow"),$("input:not(:submit)").val(""),$("textarea").val(""),setTimeout(function(){$("#thanks").fadeOut("slow")},4e3)}),$(".sale_property_inquiry").on("ajax:beforeSend",function(){$("span.error").fadeOut("slow"),$("span.valid").fadeOut("slow"),$("#thanks").hide(),$("#error").hide(),$("#timedout").hide(),$("#state").hide();var t=!1,e=$("#sale_property_inquiry_name"),a=e.val();a.replace(/\s+/g,"").length||(e.parent().parent().addClass("has-error"),t=!0);var i=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,s=$("#sale_property_inquiry_email").val();s.replace(/\s+/g,"").length?i.test(s)||($("#sale_property_inquiry_email").parent().parent().addClass("has-error"),t=!0):($("#sale_property_inquiry_email").parent().parent().addClass("has-error"),t=!0);var n=$("#sale_property_inquiry_message").val();return n.replace(/\s+/g,"").length||($("#sale_property_inquiry_message").parent().parent().addClass("has-error"),t=!0),1==t?($("#error").fadeIn("slow"),setTimeout(function(){$("#error").fadeOut("slow")},3e3),!1):($("#sale_property_inquiry_name").parent().parent().removeClass("has-error"),$("#sale_property_inquiry_email").parent().parent().removeClass("has-error"),$("#sale_property_inquiry_message").parent().parent().removeClass("has-error"),void 0)}).on("ajax:error",function(t,e,a,i){"timeout"==i?($("#timedout").fadeIn("slow"),setTimeout(function(){$("#timedout").fadeOut("slow")},3e3)):($("#state").fadeIn("slow"),$("#state").html("The following error occured: "+i),setTimeout(function(){$("#state").fadeOut("slow")},3e3))}).on("ajax:success",function(){console.log("success"),$("#thanks").fadeIn("slow"),$("input:not(:submit)").val(""),$("textarea").val(""),setTimeout(function(){$("#thanks").fadeOut("slow")},4e3)})}),$(window).load(function(){$("#carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:210,itemMargin:5,asNavFor:"#slider"}),$("#slider").flexslider({animation:"slide",controlNav:!0,animationLoop:!1,slideshow:!1,sync:"#carousel"}),$("#hero-slider").flexslider({animation:"slide",controlNav:!1,animationLoop:!0,slideshow:!0,start:function(){$("body").removeClass("loading")}}),initialize_map(),$(window).trigger("resize")});